# TX Text Control HTML5 Document Editor (Angular version)

This library offers a HTML5 based rich text editor of TX Text Control .NET Server for
ASP.NET. Give your users an MS Word compatible document editor to create powerful
reporting templates anywhere - in any HTML5-based browser including Google Chrome,
Firefox, Safari and Internet Explorer.

## Prerequisites

The TX Text Control HTML5 Document Editor communicates with the backend over a WebSocket connection.
Therefore you additionally need to create and run a Node.js application which contains an instance
of the class `WebSocketServer` from the package
[`tx-websocket-server`](https://www.npmjs.com/package/@txtextcontrol/tx-websocket-server).

The "heart" of the document editor is the so called synchronization service that synchronizes the
document in order to provide the WYSIWYG rendering. If you want to deploy your project, you will
have to host your own synchronization service and set the `serviceAddress` in the WebSocket
server application mentioned above accordingly. The synchronization service is part of
[TX Text Control .NET Server for ASP.NET](https://www.textcontrol.com/products/asp-dotnet/tx-text-control-dotnet-server/downloads/#tab_trial).

## Installation

```sh
ng add @txtextcontrol/tx-ng-document-editor
```

## Usage

Your `component.html` could look like this, for example (the only mandatory attributes are `width`, `height` and `webSocketURL`):

```html
<tx-document-editor
   width="1000px"
   height="800px"
   webSocketURL="ws://www.server.com:8080/TXWebSocket"
   statusBarColor="#FF00FF"
   [controlChars]="true"
   [userNames]="['user1', 'user2']">
</tx-document-editor>
```

### Possible attributes

- **width** (_string_) - The width of the component (e. g. `"1000px"`).
- **height** (_string_) - The height of the component (e. g. `"800px"`).
- **webSocketURL** (_string_) - The WebSocket URL.
- **documentTargetMarkers** (_boolean_) - Sets whether markers for hypertext targets are shown in the editor.
- **backColor** (_string_) - Determines the background color of the main text area and the ruler bars as a CSS hex string.
- **statusBarColor** (_string_) - Determines the background color of the status bar as a CSS hex string.
- **editMode** (_string_) - Sets whether the document's text is read-only, can be selected or is editable. Possible values are `'Edit'`, `'ReadAndSelect'`, `'ReadOnly'` and `'UsePassword'`.
- **contextMenusEnabled** (_boolean_) - Sets whether a right click opens a context menu or not.
- **saveDocumentQuestionDialogEnabled** (_boolean_) - Sets whether a confirmation dialog should be shown before discarding unsaved changes.
- **tableGridLines** (_boolean_) - Sets wether table grid lines are shown in the editor or not.
- **textFrameMarkerLines** (_boolean_) - Sets whether text frames that have no border line are shown with marker lines.
- **controlChars** (_boolean_) - Sets whether control characters are visible or not.
- **textFieldsEditable** (_boolean_) - Sets whether text fields are editable or not.
- **formattingPrinter** (_string_) - The name of a printer the text dimensions and capabilities of which are used to format the document.
- **culture** (_string_) - The culture (e. g. `'de-DE'`). Affects date and time string formats, for example.
- **uiCulture** (_string_) - The user interface culture (e. g. `'en-US'`). Affects the string resource language.
- **userNames** (_string[]_) - An array of names specifying users who have access to editable regions. When a document is set to read-only all editable regions that are related to these users can be edited.
- **reconnectTimeout** (_number_) - Time in seconds before stopping reconnection attempts after a connection loss.

### Events

Because the script containing the main `TXTextControl` object is loaded in a deferred manner, a global event exists which is fired as soon as the object is available. The event is dispatched on the `document` object. You can subscribe to it in your `component.ts` as follows:

```javascript
@HostListener('document:txDocumentEditorLoaded')
onTxDocumentEditorLoaded() {
   console.log('TXTextControl object exists.');
   TXTextControl.addEventListener("ribbonTabsLoaded", () => console.log('Ribbon tabs are completely loaded.'));
}
```
